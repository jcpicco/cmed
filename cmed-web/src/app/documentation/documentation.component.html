<div class="documentation-container">
    <header class="doc-header">
        <div class="header-content">
            <h1>üìö Documentaci√≥n del Sistema CMED-WEB</h1>
            <p>Gu√≠a completa para el uso del Gestor de Pacientes - Versi√≥n 1.0</p>
            <button class="btn btn-primary" routerLink="/">
                ‚Üê Volver al Inicio
            </button>
        </div>
    </header>

    <div class="doc-content">

        <!-- Introduction -->
        <section class="doc-section intro">
            <h2>Introducci√≥n</h2>
            <p>
                El Gestor de Pacientes CMED es una herramienta integral dise√±ada para simplificar la administraci√≥n de
                historiales m√©dicos. Permite gestionar pacientes, registrar historias cl√≠nicas completas, almacenar
                antecedentes, gestionar notas y adjuntar documentaci√≥n digital de forma segura y eficiente.
            </p>
            <div class="version-badge">
                <strong>Versi√≥n 1.0</strong> - Actualizado el 19/02/2026
            </div>
        </section>

        <!-- ============== GESTI√ìN DE PACIENTES ============== -->
        <section class="doc-section">
            <div class="section-header">
                <span class="icon">üë•</span>
                <h2>Gesti√≥n de Pacientes</h2>
            </div>
            <div class="section-body">
                <div class="feature-grid">
                    <div class="feature-item">
                        <h3>‚ú® Crear Paciente</h3>
                        <p>Utiliza el bot√≥n <span class="badge badge-success">+ Nuevo Paciente</span> para registrar una
                            nueva ficha. Es obligatorio ingresar:</p>
                        <ul>
                            <li>Nombre y apellido</li>
                            <li>DNI (3-20 caracteres)</li>
                            <li>Email v√°lido</li>
                            <li>Tel√©fono (3-20 caracteres)</li>
                            <li>Fecha de nacimiento</li>
                        </ul>
                    </div>
                    <div class="feature-item">
                        <h3>üîç B√∫squeda Inteligente</h3>
                        <p>La barra de b√∫squeda en tiempo real permite encontrar pacientes instant√°neamente por:</p>
                        <ul>
                            <li>Nombre</li>
                            <li>Apellido</li>
                            <li>DNI</li>
                            <li>Correo electr√≥nico</li>
                        </ul>
                        <p class="note">Los resultados se filtran autom√°ticamente mientras escribes.</p>
                    </div>
                    <div class="feature-item">
                        <h3>üåô Modo Oscuro</h3>
                        <p>Nuevo bot√≥n de alternancia en la esquina superior derecha para cambiar entre tema claro y
                            oscuro.</p>
                        <p>Ideal para reducir la fatiga visual en entornos con poca luz.</p>
                    </div>
                    <div class="feature-item">
                        <h3>üîÑ Ordenamiento Din√°mico</h3>
                        <p>Haz click en cualquier cabecera de columna para ordenar:</p>
                        <ul>
                            <li>Nombre, Apellido</li>
                            <li>Email, DNI</li>
                            <li>Fecha de nacimiento</li>
                            <li>Fecha de creaci√≥n (con hora)</li>
                        </ul>
                        <p class="note">El primer click ordena descendente ‚Üì, el segundo ascendente ‚Üë</p>
                    </div>
                    <div class="feature-item">
                        <h3>üìÑ Paginaci√≥n</h3>
                        <p>La lista muestra <strong>10 pacientes por p√°gina</strong> con controles de navegaci√≥n:</p>
                        <ul>
                            <li>‚Üê Anterior / Siguiente ‚Üí</li>
                            <li>Indicador "P√°gina X de Y"</li>
                            <li>Botones deshabilitados en l√≠mites</li>
                        </ul>
                    </div>
                    <div class="feature-item">
                        <h3>‚úèÔ∏è Edici√≥n de Datos</h3>
                        <p>Accede al perfil del paciente y selecciona <span class="badge badge-primary">Editar</span>
                            para actualizar su informaci√≥n de contacto.</p>
                        <p class="note"><strong>Nota:</strong> El DNI no puede modificarse una vez creado el paciente.
                        </p>
                    </div>
                    <div class="feature-item">
                        <h3>üìÖ Formato de Fechas</h3>
                        <p>Las fechas se muestran en formato espa√±ol:</p>
                        <ul>
                            <li><strong>Nacimiento:</strong> dd/mm/aaaa (ej: 04/12/1998)</li>
                            <li><strong>Creado:</strong> dd/mm/aaaa hh:mm (ej: 08/02/2026 23:30)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============== VISTA DE DETALLES ============== -->
        <section class="doc-section">
            <div class="section-header">
                <span class="icon">üìä</span>
                <h2>Vista de Detalles del Paciente</h2>
            </div>
            <div class="section-body">
                <p>Al hacer click en un paciente, se abre un panel lateral con <strong>3 pesta√±as principales</strong>:
                </p>

                <div class="tabs-info">
                    <div class="tab-card">
                        <h3>üìã Historia Cl√≠nica</h3>
                        <p>Registros m√©dicos de consultas y tratamientos actuales</p>
                    </div>
                    <div class="tab-card">
                        <h3>üìÇ Antecedentes</h3>
                        <p>Historial m√©dico previo y documentaci√≥n antigua</p>
                    </div>
                    <div class="tab-card">
                        <h3>üìù Notas</h3>
                        <p>Notas generales independientes del paciente</p>
                    </div>
                </div>

                <p class="note">
                    <strong>Nota:</strong> Todas las listas tienen ordenamiento por columna y
                    truncamiento autom√°tico de texto largo (m√°ximo 100 caracteres + "...").
                </p>
            </div>
        </section>

        <!-- ============== HISTORIA CL√çNICA ============== -->
        <section class="doc-section">
            <div class="section-header">
                <span class="icon">üìã</span>
                <h2>Historia Cl√≠nica</h2>
            </div>
            <div class="section-body">
                <h3>üè• Estructura de un Registro M√©dico</h3>
                <p>Cada registro m√©dico contiene:</p>

                <div class="card-list">
                    <div class="info-card">
                        <h4>1Ô∏è‚É£ Enfermedad Actual</h4>
                        <p>Descripci√≥n principal del motivo de consulta o condici√≥n actual del paciente.</p>
                        <span class="required">Obligatorio</span>
                    </div>

                    <div class="info-card">
                        <h4>2Ô∏è‚É£ Valoraciones</h4>
                        <p>Notas m√©dicas asociadas al registro para seguimiento evolutivo.</p>
                        <ul>
                            <li>Se agregan desde el modal de edici√≥n</li>
                            <li>Paginaci√≥n: 3 valoraciones por p√°gina</li>
                            <li>Se pueden eliminar individualmente</li>
                        </ul>
                        <span class="optional">Opcional</span>
                    </div>

                    <div class="info-card">
                        <h4>3Ô∏è‚É£ Diagn√≥sticos</h4>
                        <p>Diagn√≥sticos m√©dicos con tratamiento opcional.</p>
                        <ul>
                            <li>Descripci√≥n del diagn√≥stico (obligatorio)</li>
                            <li>Prescripci√≥n/Tratamiento (opcional)</li>
                            <li>Paginaci√≥n: 3 diagn√≥sticos por p√°gina</li>
                        </ul>
                        <span class="optional">Opcional</span>
                    </div>

                    <div class="info-card">
                        <h4>4Ô∏è‚É£ Archivos Adjuntos</h4>
                        <p>Documentos, im√°genes o videos relacionados.</p>
                        <ul>
                            <li>Solo disponible en modo edici√≥n</li>
                            <li>Tipos: üìÑ Documentos, üñºÔ∏è Im√°genes, üé• Videos</li>
                            <li>Visualizaci√≥n de metadatos (nombre, tama√±o, fecha)</li>
                        </ul>
                        <span class="optional">Opcional</span>
                    </div>
                </div>

                <h3>üîÑ Flujo de Trabajo</h3>
                <div class="workflow">
                    <div class="step">
                        <strong>1.</strong> Click en <span class="badge">+ Agregar Registro</span>
                    </div>
                    <div class="step">
                        <strong>2.</strong> Completar "Enfermedad Actual"
                    </div>
                    <div class="step">
                        <strong>3.</strong> Agregar Valoraciones (opcional)
                    </div>
                    <div class="step">
                        <strong>4.</strong> Agregar Diagn√≥sticos (opcional)
                    </div>
                    <div class="step">
                        <strong>5.</strong> Click en <span class="badge badge-success">Crear</span>
                    </div>
                    <div class="step">
                        <strong>6.</strong> Se abre autom√°ticamente la vista del registro
                    </div>
                    <div class="step">
                        <strong>7.</strong> Click en <span class="badge badge-primary">Actualizar</span> para editar
                    </div>
                    <div class="step">
                        <strong>8.</strong> Subir archivos adjuntos en modo edici√≥n
                    </div>
                    <div class="step">
                        <strong>9.</strong> Click en <span class="badge badge-success">Guardar</span>
                    </div>
                    <div class="step">
                        <strong>10.</strong> Vuelve a la vista con datos actualizados ‚úÖ
                    </div>
                </div>
            </div>
        </section>

        <!-- ============== ANTECEDENTES ============== -->
        <section class="doc-section">
            <div class="section-header">
                <span class="icon">üìÇ</span>
                <h2>Antecedentes M√©dicos</h2>
            </div>
            <div class="section-body">
                <p>Registro de antecedentes personales y familiares del paciente.</p>

                <h3>üìå Casos de Uso</h3>
                <div class="use-cases">
                    <div class="case">ü©π Alergias conocidas</div>
                    <div class="case">üè• Cirug√≠as previas</div>
                    <div class="case">üî¨ Enfermedades cr√≥nicas</div>
                    <div class="case">üë®‚Äçüë©‚Äçüëß Antecedentes familiares</div>
                    <div class="case">üíä Medicaci√≥n habitual</div>
                    <div class="case">üöë Hospitalizaciones anteriores</div>
                </div>

                <h3>‚ú® Caracter√≠sticas</h3>
                <ul>
                    <li>Mismo dise√±o y flujo que Historia Cl√≠nica</li>
                    <li>Modal de creaci√≥n/edici√≥n separado de vista</li>
                    <li>Soporte para archivos adjuntos</li>
                    <li>Ordenamiento por descripci√≥n o fecha</li>
                    <li>Paginaci√≥n: 10 registros por p√°gina</li>
                    <li>Truncamiento de texto: 100 caracteres + "..."</li>
                </ul>
            </div>
        </section>

        <!-- ============== NOTAS DEL PACIENTE (NUEVO) ============== -->
        <section class="doc-section highlight">
            <div class="section-header">
                <span class="icon">üìù</span>
                <h2>Notas del Paciente</h2>
            </div>
            <div class="section-body">
                <p class="intro-highlight">
                    Sistema independiente de notas <strong>directamente asociadas al paciente</strong>,
                    separado de las valoraciones de registros m√©dicos.
                </p>

                <h3>üÜö Diferencia con Valoraciones</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Aspecto</th>
                            <th>Notas de Paciente</th>
                            <th>Valoraciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Asociaci√≥n</strong></td>
                            <td>Directa al paciente</td>
                            <td>Asociada a registro m√©dico</td>
                        </tr>
                        <tr>
                            <td><strong>Ubicaci√≥n</strong></td>
                            <td>Pesta√±a "Notas"</td>
                            <td>Dentro de Historia Cl√≠nica</td>
                        </tr>
                        <tr>
                            <td><strong>Uso</strong></td>
                            <td>Notas generales, recordatorios</td>
                            <td>Informaci√≥n de consulta espec√≠fica</td>
                        </tr>
                        <tr>
                            <td><strong>Gesti√≥n</strong></td>
                            <td>Modal independiente</td>
                            <td>Dentro del modal de HC</td>
                        </tr>
                    </tbody>
                </table>

                <h3>‚ú® Funcionalidades</h3>
                <div class="feature-list">
                    <div class="feature">‚úÖ Modal de creaci√≥n/edici√≥n propio</div>
                    <div class="feature">‚úÖ Modal de vista de solo lectura</div>
                    <div class="feature">‚úÖ Mismo dise√±o que HC y Antecedentes</div>
                    <div class="feature">‚úÖ Ordenamiento por descripci√≥n o fecha</div>
                    <div class="feature">‚úÖ Paginaci√≥n: 10 notas por p√°gina</div>
                    <div class="feature">‚úÖ Truncamiento de texto largo</div>
                    <div class="feature">‚úÖ Actualizaci√≥n autom√°tica de vistas</div>
                </div>

                <h3>üîÑ C√≥mo Usarlo</h3>
                <ol class="steps-list">
                    <li>Selecciona un paciente de la lista</li>
                    <li>Ve a la pesta√±a <strong>üìù Notas</strong></li>
                    <li>Click en <span class="badge">+ Agregar Registro</span></li>
                    <li>Escribe la descripci√≥n de la nota</li>
                    <li>Click en <span class="badge badge-success">Crear</span></li>
                    <li>La lista se actualiza autom√°ticamente</li>
                    <li>Click en una nota para ver detalles</li>
                    <li>Click en <span class="badge badge-primary">Actualizar</span> para editar</li>
                </ol>
            </div>
        </section>

        <!-- ============== SISTEMA DE MODALES ============== -->
        <section class="doc-section">
            <div class="section-header">
                <span class="icon">ü™ü</span>
                <h2>Sistema de Modales</h2>
            </div>
            <div class="section-body">
                <p>Todos los registros (Historia Cl√≠nica, Antecedentes, Notas) usan un sistema de <strong>doble
                        modal</strong>:</p>

                <div class="modal-types">
                    <div class="modal-type">
                        <h3>1Ô∏è‚É£ Modal de Creaci√≥n/Edici√≥n</h3>
                        <ul>
                            <li>Formulario reactivo con validaciones</li>
                            <li>T√≠tulo din√°mico: "Crear" o "Editar"</li>
                            <li>Gesti√≥n de sub-elementos (valoraciones, diagn√≥sticos, archivos)</li>
                            <li>Bot√≥n "Eliminar" solo en modo edici√≥n</li>
                            <li>Botones "Cancelar" y "Crear"/"Guardar"</li>
                            <li>Indicadores de carga durante guardado</li>
                        </ul>
                    </div>

                    <div class="modal-type">
                        <h3>2Ô∏è‚É£ Modal de Vista (Solo Lectura)</h3>
                        <ul>
                            <li>Visualizaci√≥n de todos los datos</li>
                            <li>Listas paginadas de sub-elementos</li>
                            <li>Sin campos editables</li>
                            <li>Bot√≥n "Cerrar" para salir</li>
                            <li>Bot√≥n "Actualizar" para ir a modo edici√≥n</li>
                        </ul>
                    </div>
                </div>

                <h3>üîÑ Navegaci√≥n Entre Modales</h3>
                <div class="modal-flow">
                    <span>Lista</span> ‚Üí
                    <span>Click</span> ‚Üí
                    <span class="highlight">Modal Vista</span> ‚Üí
                    <span>Click "Actualizar"</span> ‚Üí
                    <span class="highlight">Modal Edici√≥n</span> ‚Üí
                    <span>Guardar</span> ‚Üí
                    <span class="highlight">Modal Vista (Actualizado)</span> ‚úÖ
                </div>
            </div>
        </section>

        <!-- ============== GESTI√ìN DE ARCHIVOS ============== -->
        <section class="doc-section">
            <div class="section-header">
                <span class="icon">üìé</span>
                <h2>Gesti√≥n de Archivos</h2>
            </div>
            <div class="section-body">
                <p>El sistema permite adjuntar archivos a Historia Cl√≠nica y Antecedentes.</p>

                <h3>üìã Tipos de Archivos Soportados</h3>
                <div class="file-types">
                    <div class="type"><span class="icon">üìÑ</span> DOCUMENT (PDF, Word, Excel, etc.)</div>
                    <div class="type"><span class="icon">üñºÔ∏è</span> IMAGE (JPG, PNG, GIF, etc.)</div>
                    <div class="type"><span class="icon">üé•</span> VIDEO (MP4, AVI, MOV, etc.)</div>
                </div>

                <h3>‚ú® Funcionalidades</h3>
                <ul>
                    <li>Subida de archivos solo en modo edici√≥n</li>
                    <li>Visualizaci√≥n de metadatos (nombre, tama√±o, fecha y hora de creaci√≥n)</li>
                    <li>Descarga/apertura en nueva pesta√±a</li>
                    <li>Eliminaci√≥n con confirmaci√≥n</li>
                    <li>Iconos seg√∫n categor√≠a del archivo</li>
                    <li>Paginaci√≥n: 3 archivos por p√°gina en modales</li>
                </ul>

                <p class="note">
                    <strong>Nota:</strong> Los archivos se almacenan en el servidor y se pueden previsualizar
                    o descargar directamente desde el detalle del registro.
                </p>
            </div>
        </section>

        <!-- ============== GENERACI√ìN DE REPORTES PDF ============== -->
        <section class="doc-section">
            <div class="section-header">
                <span class="icon">üìÑ</span>
                <h2>Generaci√≥n de Reportes PDF</h2>
            </div>
            <div class="section-body">
                <p>Funcionalidad completa para generar, descargar y enviar historias cl√≠nicas en formato PDF.</p>

                <h3>üöÄ Caracter√≠sticas Principales</h3>
                <ul>
                    <li><strong>Selecci√≥n Interactiva:</strong> Modal dedicado para elegir qu√© registros incluir.</li>
                    <li><strong>Control Total:</strong> Casillas de verificaci√≥n para "Historia Cl√≠nica" y
                        "Antecedentes".</li>
                    <li><strong>Estilo Uniforme:</strong> Listas de selecci√≥n con dise√±o "Valoraciones" para mejor
                        legibilidad.</li>
                    <li><strong>Paginaci√≥n:</strong> Listas de selecci√≥n paginadas (3 registros por p√°gina).</li>
                </ul>

                <h3>üìù Formato del Documento</h3>
                <div class="feature-grid">
                    <div class="feature-item">
                        <h4>Encabezado Profesional</h4>
                        <p>Logo oficial y fecha de emisi√≥n (dd/mm/aaaa) sin hora.</p>
                    </div>
                    <div class="feature-item">
                        <h4>Datos del Paciente</h4>
                        <p>Incluye Nombre (con prefijo "Nombre: "), DNI y Alergias destacadas.</p>
                    </div>
                    <div class="feature-item">
                        <h4>Detalle Completo</h4>
                        <p>Registros con descripciones completas, incluyendo:</p>
                        <ul>
                            <li><strong>VALORACIONES:</strong> Notas de evoluci√≥n.</li>
                            <li><strong>DIAGN√ìSTICOS:</strong> Con tratamiento y conducta.</li>
                        </ul>
                    </div>
                </div>

                <h3>üñ±Ô∏è Acciones Disponibles</h3>
                <div class="action-buttons-doc" style="display: flex; gap: 10px; margin-top: 15px;">
                    <button class="btn btn-primary" style="pointer-events: none;">Descargar PDF</button>
                    <button class="btn btn-secondary" style="pointer-events: none;">Enviar por Email</button>
                </div>
                <ul style="margin-top: 10px;">
                    <li><strong>Descargar PDF:</strong> Guarda el archivo con el nombre estandarizado:
                        <code>nombre_apellido_dd_mm_aaaa.pdf</code>.
                    </li>
                    <li><strong>Enviar por Email:</strong> Abre tu cliente de correo (Outlook, Mail, etc.) con el asunto
                        y
                        cuerpo predefinidos. <strong>Nota:</strong> El PDF se descarga autom√°ticamente y debes
                        adjuntarlo manualmente al correo.</li>
                </ul>
            </div>
        </section>


        <!-- ============== CONSEJOS Y BUENAS PR√ÅCTICAS ============== -->
        <section class="doc-section">
            <div class="section-header">
                <span class="icon">üí°</span>
                <h2>Consejos y Buenas Pr√°cticas</h2>
            </div>
            <div class="section-body">
                <div class="tips">
                    <div class="tip">
                        <h4>‚úÖ Usa Notas del Paciente para:</h4>
                        <ul>
                            <li>Recordatorios generales</li>
                            <li>Observaciones importantes no ligadas a una consulta</li>
                            <li>Informaci√≥n administrativa</li>
                            <li>Alertas sobre el paciente</li>
                        </ul>
                    </div>

                    <div class="tip">
                        <h4>‚úÖ Usa Valoraciones (HC) para:</h4>
                        <ul>
                            <li>Evoluci√≥n de un tratamiento espec√≠fico</li>
                            <li>Notas de seguimiento de consulta</li>
                            <li>Observaciones m√©dicas de un registro</li>
                        </ul>
                    </div>

                    <div class="tip">
                        <h4>‚úÖ Organiza los Archivos:</h4>
                        <ul>
                            <li>Usa nombres descriptivos al subir archivos</li>
                            <li>Adjunta estudios a su registro correspondiente</li>
                            <li>Documentaci√≥n antigua va en Antecedentes</li>
                            <li>Estudios recientes van en Historia Cl√≠nica</li>
                        </ul>
                    </div>

                    <div class="tip">
                        <h4>‚úÖ Aprovecha el Ordenamiento:</h4>
                        <ul>
                            <li>Ordena por fecha para ver lo m√°s reciente</li>
                            <li>Ordena por descripci√≥n para buscar alfab√©ticamente</li>
                            <li>Click en la misma columna alterna asc/desc</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>


        <!-- Footer -->
        <footer class="doc-footer">
            <p>
                <strong>Sistema CMED-WEB v1.0</strong> - Desarrollado para la gesti√≥n m√©dica integral<br>
                √öltima actualizaci√≥n: 19/02/2026 12:00
            </p>
            <button class="btn btn-primary" routerLink="/">
                ‚Üê Volver al Inicio
            </button>
        </footer>

    </div>
</div>